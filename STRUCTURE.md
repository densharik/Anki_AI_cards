# Anki English Learning Assistant

Автоматизированный инструмент для обогащения карточек Anki данными о словах через OpenAI API.

## Архитектура модулей

### Конфигурация и настройки
- `config.py` - основные настройки, промты LLM и конфигурации типов заметок
- `settings.py` - загрузка переменных окружения и валидация
- `schemas.py` - типы данных и схемы JSON

### Клиенты для внешних API
- `anki_client.py` - взаимодействие с AnkiConnect API
- `openai_client.py` - генерация словарных данных через OpenAI
- `voice_client.py` - синтез речи через OpenAI TTS
- `freq.py` - работа с частотными словарями

### Логика обработки
- `cache.py` - кеширование данных и состояний
- `validators.py` - валидация полей заметок по правилам
- `pipeline.py` - основной пайплайн обработки
- `utils.py` - утилиты для асинхронности и обработки ошибок

### Интерфейс
- `cli.py` - командная строка для выбора колод и запуска

### Справочные данные
- `note_types_example.json` - примеры структур полей Anki

## Режимы работы полей

- **INPUT** - поле должно быть заполнено и используется как входные данные
- **GENERATE** - поле заполняется автоматически и должно быть пустым
- **SKIP** - поле игнорируется при обработке

## Поддерживаемые функции

1. Генерация определений, переводов, транскрипций
2. Создание примеров использования и коллокаций
3. Поиск синонимов и антонимов
4. Синтез аудиопроизношения
5. Расчет частотности слов
6. Batch-обработка с кешированием результатов
